.m-dashboard {

  // Tabs
  $background-color: #FFFFFF;
  $background-tab: $main-color;
  $background-tab-active: #FFFFFF;;
  $text-tab: #F7F8FC;
  $text-tab-active: $main-color;

  // Collapsibles
  $collapsible-icon-color: #595959;
  $collapsible-bg-main-category: transparent;
  $collapsible-text-main-category: $main-color;
  $collapsible-btn-info-color: #9B9B9B;

  width: 37px;
  max-width: rem-calc(415px);
  top: 0px;
  bottom: 0;
  position: absolute;
  z-index: 1;
  margin: 0;
  opacity: 0;
  background: $background-color;
  box-shadow: 0px 1px 3px 0px rgba(0,0,0,0.30);
  overflow-y: scroll;
  overflow-x: hidden;
  transition-property: width;
  transition: .4s ease-in-out;
  user-select: none;

  &.visible {
    opacity: 1;
  }

  .dashboard-opened & {
    width: 33%;
    min-width: rem-calc(415px);
  }

  .is-timeline-active & {
    bottom: rem-calc(50px);
  }

  // Tabs

  .tabsContainer {
    width: rem-calc(37px);
    height: auto;
    float: right;
    position: absolute;
    bottom: 0;
    top: 0;
    right: 0;
    z-index: 1;

    .tab-blank {
      width: 100%;
      height: auto;
      bottom: 0;
      top: rem-calc(357px);
      position: absolute;
      background: $background-tab;
    }
  }
  .tabs {
    &.vertical {
      margin-left: rem-calc(-46px);
      margin-top: rem-calc(-41px);
      flex: 1;
      height: rem-calc(115px);
      flex-basis: initial;

      .tab-title {
        width: rem-calc(119px);
        height: rem-calc(37px);
        margin: rem-calc(5px);
        margin-top: rem-calc(82px);
        transform: rotate(90deg);
        text-align: center;
        text-transform: uppercase;
        position: relative;
        background: $background-tab;

        .ic-active-layers {
          width: rem-calc(13px);
          height: rem-calc(13px);
          border-radius: rem-calc(6.5px);
          background: $background-color;
          position: relative;
          bottom: rem-calc(3.5px);
          margin-right: rem-calc(6px);
          padding-left: rem-calc(1px);
          color: $text-tab-active;
          font-size: rem-calc(11px);
          font-weight: 700;
          line-height: rem-calc(13.5px);
          display: inline-block;

          &:empty {
            display: none;
          }
        }

        &:after {
          content: "";
          width: 1px;
          height: rem-calc(37px);
          background: $background-tab-active;
          position: absolute;
          right: 0;
          top: 0;
        }

        &:last-child {
          &:after {
            background: none;
          }
        }

        .dashboard-opened & {
          &.active  {
            background: $background-tab-active;

            > a {

              &:focus {
                outline: none;
              }

              &:before {
                content: "";
                width: 0;
                height: 0;
                border-style: solid;
                border-width: rem-calc(7.1px 5px 0 5px);
                border-color: $text-tab-active transparent transparent transparent;
                display: inline-block;
                margin-right: rem-calc(5px);
                margin-bottom: rem-calc(2px);
              }
              color: $text-tab-active;
            }

            .ic-active-layers {
              display: none;
            }
          }
        }

        > a {
          margin: 0 auto;
          padding: 0;
          background: transparent;
          text-align: center;
          font-family: $font-main;
          font-size: rem-calc(15px);
          font-weight: 700;
          letter-spacing: 0.65px;
          line-height: rem-calc(40px);
          color: $text-tab;
        }
      }
    }
  }

  .tabs-content {
    width: rem-calc(365px);
    height: 100%;
    margin-left: rem-calc(15px);
    margin-bottom: 0;
    overflow-y: scroll;
    overflow-x: hidden;

    .content {

      // Collapsibles

      padding-top: rem-calc(16px);
      overflow: hidden;
      user-select: none;
      cursor: default;

      &.visible {
        opacity: 1;
      }

      .btn-info {
        width: rem-calc(14px);
        height: rem-calc(14px);
        border-radius: rem-calc(28px);
        border: 1px solid $collapsible-btn-info-color;
        background: transparent;
        text-align: left;
        font-weight: bold;
        font-size: rem-calc(10px);
        font-family: Georgia, Arial;
        font-style: italic;
        line-height: rem-calc(13px);
        color: $collapsible-btn-info-color;
        cursor: pointer;
        float: left;
        margin-right: rem-calc(8px);
        padding-left: rem-calc(4px);
      }

      .locate-layer {
        width: rem-calc(14px);
        height: rem-calc(14px);
        margin-left: rem-calc(3px);
        cursor: pointer;
        display: none;
        @extend .search-icon;

        &.visible {
          display: inline-block;
        }
      }

      .switch {
        width: rem-calc(32px);
        float: right;
      }

      .accordion {
        width: 99%;

        .accordion-navigation {

          &:last-child {
            .content {
              // border-top: 1px solid $inner-border-color;
              border-bottom: 0;
            }
          }
        }

        &.category {
          margin-left: 0;
          border-bottom: 2px dashed #DBDBDB;

          .accordion-navigation {
            line-height: rem-calc(15px);
            padding-top: rem-calc(7px);
            padding-bottom: rem-calc(7px);

            > a, dd > a {
              border: 0;
              padding-top: rem-calc(10px);
              padding-bottom: rem-calc(10px);
              padding-left: 0;
              background: $collapsible-bg-main-category;
              position: relative;
              font-family: $font-main;
              font-size: rem-calc(15px);
              font-weight: 800;
              color: $collapsible-text-main-category;
              text-transform: uppercase;
              letter-spacing: rem-calc(0.65px);

              &:before {
                content: '';
                width: 0;
                height: 0;
                border-style: solid;
                border-width: rem-calc(4px 0 4px 7.4px);
                border-color: transparent transparent transparent $collapsible-icon-color;
                position: absolute;
                right: 23px;
                top: 40%;
              }

              .btn-info {
                text-transform: initial;
              }
            }

            &.active {
              > a, dd > a {
                &:before {
                  content: '';
                  width: 0;
                  height: 0;
                  border-style: solid;
                  border-width: rem-calc(6px 5px 0 5px);
                  border-color: $collapsible-icon-color transparent transparent transparent;
                  position: absolute;
                  right: 23px;
                  top: 44%;
                }
              }
            }

            .content {
              border: 0;
              padding-left: rem-calc(30px);

              &.active {
                width: rem-calc(341px);
                float: right;
                background: transparent;
                padding: rem-calc(13px 0 0 0);
              }
            }
          }
        }

        .layer-item {
          width: 100%;
          height: rem-calc(35px);
          display: block;

          .layer-item-content {
            width: 83.5%;
            float: left;

            .layer-item-name {
              font-family: $font-main;
              font-size: rem-calc(14px);
              font-weight: 500;
              color: $main-text;
              margin-bottom: rem-calc(5px);
              float: left;
              max-width: rem-calc(266px);
              white-space: nowrap;
              overflow: hidden;
              text-overflow: ellipsis;
            }

            .btn-info {
              float: left;
              margin-left: rem-calc(5px);
              margin-right: 0;
            }
          }

          &.sublayer {
            height: rem-calc(10px);

            .layer-item-name {
              font-weight: 600;
            }
          }
        }

        .sublayers {
          padding-left: rem-calc(10px);
          padding-top: rem-calc(15px);
          padding-bottom: rem-calc(5px);
          margin-bottom: rem-calc(5px);

          .sublayers {
            padding-top: 0;
            padding-bottom: 0;
            margin-bottom: 0;
          }

          .layer-item {
            height: rem-calc(25px);
          }
        }
      }

      .accordion-navigation-nogroup {

        .layer-item-content {
          width: 83.5%;
          float: left;
          line-height: rem-calc(15px);
          padding-top: rem-calc(7px);
          padding-bottom: rem-calc(7px);

          .btn-info {
            margin-top: rem-calc(10px);
          }
        }
        .layer-item-name {
          border: 0;
          padding-top: rem-calc(10px);
          padding-bottom: rem-calc(0px);
          padding-left: 0;
          background: $collapsible-bg-main-category;
          position: relative;
          font-size: rem-calc(14px);
          font-weight: bold;
          color: $collapsible-text-main-category;
          text-transform: uppercase;
          float: left;
          max-width: rem-calc(239px);
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        .switch {
          width: rem-calc(40px);
          float: right;
          line-height: rem-calc(15px);
          padding-top: rem-calc(16px);
          padding-bottom: rem-calc(7px);
          margin-right: rem-calc(8px);
        }
      }
    }
  }
}
